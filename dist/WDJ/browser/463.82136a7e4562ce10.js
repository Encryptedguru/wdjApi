"use strict";(self.webpackChunkWDJ=self.webpackChunkWDJ||[]).push([[463],{3463:(U,p,s)=>{s.r(p),s.d(p,{AdminModule:()=>T});var a=s(6814),c=s(7664),e=s(4946),g=s(2048);const h=function(t){return["./",t]};function d(t,i){if(1&t&&(e.TgZ(0,"tr",6)(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td",8),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e._uU(6),e.qZA(),e.TgZ(7,"td",10),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()),2&t){const o=i.$implicit;e.ekj("master","master"==o.role),e.Q6J("routerLink",e.VKq(11,h,o._id)),e.xp6(2),e.Oqu(o.username),e.xp6(2),e.Oqu(o.email),e.xp6(2),e.Oqu(o.role),e.xp6(2),e.Oqu(e.xi3(9,8,o.userSince,"yyyy-MM-dd")),e.xp6(3),e.Oqu(o.emailConfirmed?"Yes":"No")}}function f(t,i){if(1&t&&(e.TgZ(0,"tbody"),e.YNc(1,d,12,13,"tr",5),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.users)("ngForTrackBy",o.trackByUsers)}}let C=(()=>{var t;class i{constructor(r){this.adminService=r}ngOnInit(){this.loadUsers()}loadUsers(){this.adminService.getUsers().subscribe(r=>{r.success&&(this.users=r.users)})}trackByUsers(r,n){return n._id}sortByField(r,n,u=1){return r.sort(1===u?(_,M)=>_[n].toLowerCase()<M[n].toLowerCase()?-1:1:(_,M)=>_[n].toLowerCase()<M[n].toLowerCase()?1:-1)}}return(t=i).\u0275fac=function(r){return new(r||t)(e.Y36(g.l))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-users"]],decls:23,vars:1,consts:[[1,"container"],[1,"user-table"],[1,"fa","fa-arrow-up",3,"click"],[1,"fa","fa-arrow-down",3,"click"],[4,"ngIf"],[3,"master","routerLink",4,"ngFor","ngForOf","ngForTrackBy"],[3,"routerLink"],[1,"username"],[1,"email"],[1,"role"],[1,"userSince"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Username "),e.TgZ(6,"i",2),e.NdJ("click",function(){return n.sortByField(n.users,"username",1)}),e.qZA(),e.TgZ(7,"i",3),e.NdJ("click",function(){return n.sortByField(n.users,"username",-1)}),e.qZA()(),e.TgZ(8,"th"),e._uU(9,"Email "),e.TgZ(10,"i",2),e.NdJ("click",function(){return n.sortByField(n.users,"email",1)}),e.qZA(),e.TgZ(11,"i",3),e.NdJ("click",function(){return n.sortByField(n.users,"email",-1)}),e.qZA()(),e.TgZ(12,"th"),e._uU(13,"Role "),e.TgZ(14,"i",2),e.NdJ("click",function(){return n.sortByField(n.users,"role",1)}),e.qZA(),e.TgZ(15,"i",3),e.NdJ("click",function(){return n.sortByField(n.users,"role",-1)}),e.qZA()(),e.TgZ(16,"th"),e._uU(17,"User Since "),e.TgZ(18,"i",2),e.NdJ("click",function(){return n.sortByField(n.users,"userSince",1)}),e.qZA(),e.TgZ(19,"i",3),e.NdJ("click",function(){return n.sortByField(n.users,"userSince",-1)}),e.qZA()(),e.TgZ(20,"th"),e._uU(21,"Email Confirmed "),e.qZA()()(),e.YNc(22,f,2,2,"tbody",4),e.qZA()()),2&r&&(e.xp6(22),e.Q6J("ngIf",n.users&&n.users.length>0))},dependencies:[a.sg,a.O5,c.rH,a.uU],styles:[".container[_ngcontent-%COMP%]{overflow:auto;width:97%;margin:0 auto}.user-table[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;width:100%;border-collapse:collapse;table-layout:auto}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;border-bottom:1px solid #ddd;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1a2233;text-align:center;text-transform:uppercase;font-size:14px}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;text-align:left}.user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#27334c}.user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#2f3a8f}.fa-arrow-up[_ngcontent-%COMP%], .fa-arrow-down[_ngcontent-%COMP%]{padding:3px 5px;margin:0 2px;background-color:#27334c;border-radius:50%}.fa-arrow-up[_ngcontent-%COMP%]:hover, .fa-arrow-down[_ngcontent-%COMP%]:hover{background-color:#2f3a8f;color:#fff}.master[_ngcontent-%COMP%]{background-color:#dd105e}"]}),i})(),l=(()=>{var t;class i{}return(t=i).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin-dashboard"]],decls:5,vars:0,consts:[[1,"nav-container"],["routerLink","/admin","routerLinkActive","active",1,"btn","btn-sm","btn-transparent"]],template:function(r,n){1&r&&(e.TgZ(0,"nav")(1,"div",0)(2,"button",1),e._uU(3,"Users"),e.qZA()()(),e._UZ(4,"router-outlet"))},dependencies:[c.lC,c.rH,c.Od],styles:["nav[_ngcontent-%COMP%]{padding:8px 5px;margin:5px 0}.active[_ngcontent-%COMP%]{background-color:#dd105e}"]}),i})();var m=s(1631),v=s(2096),O=s(6232);const y=[{path:"",component:l,children:[{path:"",pathMatch:"prefix",redirectTo:"users"},{path:"users",component:C},{path:"users/:id",loadComponent:()=>s.e(789).then(s.bind(s,3789)).then(t=>t.UserDetailsComponent),resolve:{user:t=>{const i=(0,e.f3M)(g.l),o=(0,e.f3M)(c.F0),r=t.paramMap.get("id");return i.getUser(r).pipe((0,m.z)(n=>n.success?(0,v.of)(n.user):(o.navigate(["/admin/users"]),O.E)))}},children:[{path:"",pathMatch:"prefix",loadComponent:()=>s.e(113).then(s.bind(s,6113)).then(t=>t.LikesComponent)}]}]}];let A=(()=>{var t;class i{}return(t=i).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(y),c.Bz]}),i})(),T=(()=>{var t;class i{}return(t=i).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,A]}),i})()},2048:(U,p,s)=>{s.d(p,{l:()=>h});var a=s(4946),c=s(9862),e=s(7664),g=s(3251);let h=(()=>{var d;class f{constructor(l,m,v){this.http=l,this.router=m,this.alertService=v}getUsers(){return this.http.get("/api/v1/auth/users")}getUser(l){return this.http.get("/api/v1/auth/users/"+l)}deleteUser(l){this.http.delete("/api/v1/auth/users/"+l).subscribe(m=>{m.success&&(this.alertService.sendAlert(!0,"User Deleted"),this.router.navigate(["/admin"]))})}}return(d=f).\u0275fac=function(l){return new(l||d)(a.LFG(c.eN),a.LFG(e.F0),a.LFG(g.c))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),f})()}}]);